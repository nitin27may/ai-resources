{% if "blog/posts" in page.file.src_path %}
<div class="md-post-share">
  <div class="md-post-share__inner">
    <span class="md-post-share__label">Share this post</span>
    <div class="md-post-share__buttons">
      <a 
        href="https://twitter.com/intent/tweet?text={{ page.title | urlencode }}&url={{ page.canonical_url | urlencode }}"
        target="_blank"
        rel="noopener"
        class="md-post-share__button md-post-share__button--twitter"
        title="Share on Twitter"
        aria-label="Share on Twitter"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
      </a>
      <a 
        href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.canonical_url | urlencode }}"
        target="_blank"
        rel="noopener"
        class="md-post-share__button md-post-share__button--linkedin"
        title="Share on LinkedIn"
        aria-label="Share on LinkedIn"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
      <a 
        href="https://www.facebook.com/sharer/sharer.php?u={{ page.canonical_url | urlencode }}"
        target="_blank"
        rel="noopener"
        class="md-post-share__button md-post-share__button--facebook"
        title="Share on Facebook"
        aria-label="Share on Facebook"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"/></svg>
      </a>
      <a 
        href="https://reddit.com/submit?url={{ page.canonical_url | urlencode }}&title={{ page.title | urlencode }}"
        target="_blank"
        rel="noopener"
        class="md-post-share__button md-post-share__button--reddit"
        title="Share on Reddit"
        aria-label="Share on Reddit"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256S0 397.4 0 256zm256 96c28.9 0 52.5-23.5 52.5-52.5l0-.5-105 0 0 .5c0 28.9 23.6 52.5 52.5 52.5zm-73.3-73.3c11.5 0 20.9-9.3 20.9-20.9s-9.4-20.9-20.9-20.9c-11.5 0-20.9 9.3-20.9 20.9s9.3 20.9 20.9 20.9zm146.7 0c11.5 0 20.9-9.3 20.9-20.9s-9.4-20.9-20.9-20.9c-11.5 0-20.9 9.3-20.9 20.9s9.3 20.9 20.9 20.9z"/></svg>
      </a>
      <button 
        class="md-post-share__button md-post-share__button--copy"
        title="Copy link"
        aria-label="Copy link"
        onclick="copyPostUrl()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"/></svg>
      </button>
    </div>
  </div>
</div>

<script>
function copyPostUrl() {
  const url = window.location.href;
  navigator.clipboard.writeText(url).then(function() {
    const button = event.currentTarget;
    const originalTitle = button.title;
    button.title = 'Copied!';
    button.classList.add('md-post-share__button--copied');
    setTimeout(function() {
      button.title = originalTitle;
      button.classList.remove('md-post-share__button--copied');
    }, 2000);
  });
}
</script>

<style>
  .md-post-share {
    margin: 2rem 0;
    padding: 1.5rem;
    border-radius: 0.5rem;
    background-color: var(--md-default-bg-color);
    border: 1px solid var(--md-default-fg-color--lightest);
  }
  
  .md-post-share__inner {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .md-post-share__label {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--md-default-fg-color);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .md-post-share__buttons {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
  }
  
  .md-post-share__button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.75rem;
    height: 2.75rem;
    border-radius: 50%;
    background-color: var(--md-default-fg-color--lightest);
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
  }
  
  .md-post-share__button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }
  
  .md-post-share__button--twitter:hover {
    background-color: #1DA1F2;
  }
  
  .md-post-share__button--linkedin:hover {
    background-color: #0A66C2;
  }
  
  .md-post-share__button--facebook:hover {
    background-color: #1877F2;
  }
  
  .md-post-share__button--reddit:hover {
    background-color: #FF4500;
  }
  
  .md-post-share__button--copy:hover {
    background-color: #10b981;
  }
  
  .md-post-share__button--copied {
    background-color: #10b981 !important;
  }
  
  .md-post-share__button svg {
    width: 1.25rem;
    height: 1.25rem;
    fill: var(--md-default-fg-color);
  }
  
  .md-post-share__button:hover svg {
    fill: white;
  }
  
  @media screen and (max-width: 76.1875em) {
    .md-post-share {
      margin: 1.5rem 0;
      padding: 1rem;
    }
    
    .md-post-share__button {
      width: 2.5rem;
      height: 2.5rem;
    }
  }
</style>
{% endif %}
